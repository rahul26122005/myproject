{% extends 'base_generic.html'%}
{% load static %}
{% block title %}
    Generate Attendance Report
    
{% endblock title  %}

{% block content %}
<!-- generate_report.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate Attendance Report</title>
</head>
<body>
    <h1>Generate Attendance Report</h1>

    <form method="post">
        {% csrf_token %}
        <div>
            <label for="month">Month:</label>
            {{ form.month }}
        </div>
        <div>
            <label for="year">Year:</label>
            {{ form.year }}
        </div>
        <div>
            <label for="class">Class:</label>
            <select name="class" id="class" onchange="this.form.submit()">
                <option value="">Select Class</option>
                {% for class in classes %}
                    <option value="{{ class }}" {% if selected_class == class %}selected{% endif %}>{{ class }}</option>
                {% endfor %}
            </select>
        </div>
        <div>
            <label for="section">Section:</label>
            <select name="section" id="section">
                <option value="">Select Section</option>
                {% for section in sections %}
                    <option value="{{ section }}" {% if selected_section == section %}selected{% endif %}>{{ section }}</option>
                {% endfor %}
            </select>
        </div>

        <button type="submit">Generate Report</button>
    </form>

    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}
</body>
</html>
{% endblock %}