{% extends 'base_generic.html'%}
{% load static %}
{% block title %}
    upload students details
    
{% endblock  %}

{% block navbar %}
<div class="navdiv">
    <div class="logo"><a href="#">Attendance Management System</a></div>
    <ul>
        <li><a href="{% url 'home' %}">Home</a></li>
        <li><a href="{% url 'take_attendance' %}">Take Attendance</a></li>
        <li><a href="{% url 'generate_report' %}">Generate Report</a></li>
        <button><a href="{% url 'register' %}">Register</a></button>
        <button><a href="{% url 'logout' %}">Logout</a></button>
    </ul>

</div>
{% endblock %}

{% block content %}
    <div class="container">
        <h1>Upload Student Details</h1>
        <p>This is the page to Upload the student details</p>
        <p>There is condition to upload the students deatils use the excel Template to see the requirements to 
            upload the student deatils
        </p>
        <p>create the your excel file by below the excel Template then upload your file </p>
        <p><a href="{% url 'download_template' %}">Download Excel Template</a></p>
        
        <form action="{% url 'upload_students' %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Upload</button>
        </form>
        {% if missing_details %}
            <h2>Missing Details</h2>
            <ul>
                {% for details in missing_details %}
                    <li>{{ details }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
{% endblock %}
